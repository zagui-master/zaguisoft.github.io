import{logInForm}from"../helpers/locatores.js";import{admin}from"../data/admins.js";import{url}from"../helpers/urls.js";const{form:form,email:email,password:password,alertPassword:alertPassword}=logInForm,getUserAccount=()=>JSON.parse(sessionStorage.getItem("account"))??[],handleIncorrectPassword=(s,r)=>{s.classList.add("alert-text"),s.textContent="Incorrect password",r.classList.add("alert-input")},login=(s,r,e,t)=>{const o=(JSON.parse(sessionStorage.getItem("account"))??[]).find((r=>r.email===s)),a=t.find((r=>r.account===s));o&&o.password===r?(sessionStorage.setItem("current_user",JSON.stringify(s)),form.reset(),location.href=url.courses):a&&a.password===r?(sessionStorage.setItem("current_user",JSON.stringify(s)),location.href=url.admin):handleIncorrectPassword(e,r)};form.addEventListener("submit",(s=>{s.preventDefault(),login(email.value,password.value,alertPassword,admin)}));